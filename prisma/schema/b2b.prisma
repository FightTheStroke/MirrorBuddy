// ============================================================================
// B2B & ENTERPRISE CONTACT DOMAIN
// Plan 077: B2B Packages - Contact request tracking and enterprise support
// ============================================================================

// F-16: ContactRequest model for tracking B2B contact requests
model ContactRequest {
  id        String   @id @default(cuid())
  type      String   @db.VarChar(50) // general, schools, enterprise
  name      String   @db.VarChar(255)
  email     String   @db.VarChar(254) // RFC 5321 max email length
  data      Json     // Form-specific fields (schoolName, companyName, etc.)
  status    String   @default("pending") @db.VarChar(50) // pending, contacted, converted, closed
  notes     String?  @db.VarChar(2000) // Admin notes
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([type])
  @@index([status])
  @@index([type, status])
  @@index([email]) // For duplicate detection and lookups
}
