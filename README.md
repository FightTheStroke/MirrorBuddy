<p align="center">
  <img src="public/logo.jpeg" alt="ConvergioEdu Logo" width="200">
</p>

<h1 align="center">ConvergioEdu</h1>
<h3 align="center">La Scuola Che Vorrei</h3>

<p align="center">
  <strong>The school we wished existed. Now it does.</strong>
</p>

<p align="center">
  <a href="https://github.com/Roberdan/ConvergioEdu/actions/workflows/ci.yml"><img src="https://github.com/Roberdan/ConvergioEdu/actions/workflows/ci.yml/badge.svg" alt="CI"></a>
  <img src="https://img.shields.io/badge/tests-874%20passed-brightgreen" alt="Tests: 874 passed">
  <img src="https://img.shields.io/badge/coverage-63%25-yellow" alt="Coverage: 63%">
  <a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a>
  <a href="https://github.com/Roberdan/ConvergioEdu/releases"><img src="https://img.shields.io/github/v/release/Roberdan/ConvergioEdu?include_prereleases&label=version" alt="Version"></a>
</p>

<p align="center">
  <a href="https://nextjs.org/"><img src="https://img.shields.io/badge/Next.js-16-black" alt="Next.js"></a>
  <a href="https://www.typescriptlang.org/"><img src="https://img.shields.io/badge/TypeScript-5-blue" alt="TypeScript"></a>
  <a href="https://www.w3.org/WAI/WCAG21/quickref/"><img src="https://img.shields.io/badge/WCAG-2.1%20AA-green" alt="WCAG 2.1 AA"></a>
  <a href="https://fightthestroke.org"><img src="https://img.shields.io/badge/FightTheStroke-Partner-red" alt="FightTheStroke"></a>
</p>

<p align="center">
  <em>Following <a href="https://microsoft.github.io/code-with-engineering-playbook/">ISE Engineering Fundamentals</a> (personal project, no Microsoft affiliation)</em>
</p>

<p align="center">
  <img src="public/screenshots/home.png" alt="ConvergioEdu Homepage" width="800">
</p>

---

## The Manifesto

**Every child deserves an education that fits themâ€”not the other way around.**

Traditional schools were designed for the "average" student. But there is no average student. There are children with dyslexia who think in pictures. Children with ADHD who need movement and variety. Children with autism who thrive on structure and clarity. Children with cerebral palsy who need adaptive interfaces.

These children are not broken. The system is.

**ConvergioEdu is our answer: a school that adapts to each student, not students who must adapt to school.**

---

## The Story Behind This

This project was born for **Mario**.

Mario survived a pediatric stroke at birth. It left him with cerebral palsy. Like millions of children with learning differences, Mario faced a school system that wasn't built for him: rigid schedules, inflexible methods, one-size-fits-all teaching.

In 2013, his parents founded [FightTheStroke](https://fightthestroke.org) to fight for children like Mario. After a decade of advocacy, research, and watching AI transform what's possible, they built what they always wanted: **the school Mario deserved**.

> *"A birth accident should not dictate a child's future."*

Watch their story: [TED Talk - In our baby's illness, a life lesson](https://www.ted.com/talks/roberto_d_angelo_and_francesca_fedeli_in_our_baby_s_illness_a_life_lesson)

---

## Learning WITH the Greats, Not About Them

Here's what makes ConvergioEdu different.

Instead of reading *about* Euclid in a textbook, students learn mathematics **with Euclid himself**. Instead of memorizing dates about Darwin, they explore evolution **alongside Darwin**. Instead of watching a video about Marie Curie, they discuss chemistry **with Curie**.

Each **Maestro** is an AI tutor embodying a legendary figure from historyâ€”someone who revolutionized their field. Students don't just learn subjects; they learn *from the masters*.

| Maestro | Subject | Why This Legend? |
|---------|---------|------------------|
| **Euclide** | Mathematics | Father of geometry, wrote *Elements*â€”the most influential math textbook ever |
| **Leonardo** | Art | The original Renaissance polymath who merged art and science |
| **Darwin** | Science | Changed our understanding of life itself with evolution |
| **Curie** | Chemistry | First woman to win a Nobel, pioneer of radioactivity |
| **Feynman** | Physics | Made quantum physics understandable, legendary teacher |
| **Galileo** | Astronomy | Father of modern science and the scientific method |
| **Lovelace** | Computer Science | The first programmer, a century before computers existed |
| **Shakespeare** | English | The Bard who shaped the English language |
| **Mozart** | Music | Composed masterpieces from age 5, pure musical genius |
| **Socrate** | Philosophy | Invented the Socratic methodâ€”learning through questions |
| **Erodoto** | History | The "Father of History" who pioneered historical inquiry |
| **Manzoni** | Italian | Italy's greatest novelist, master of language |
| **Cicerone** | Civic Education | Rome's greatest orator, defender of the republic |
| **Humboldt** | Geography | Explorer who invented biogeography and ecology |
| **Ippocrate** | Physical Education | Father of medicine, champion of healthy living |
| **Smith** | Economics | Wrote *The Wealth of Nations*, founded modern economics |
| **Chris** | Storytelling | Chris Anderson, TED curator who spread "ideas worth sharing" worldwide |

### What Makes Each Maestro Special

Every Maestro:
- **Speaks naturally** â€” Real voice conversations, not text-to-speech robots
- **Adapts in real-time** â€” Slower when you struggle, faster when you're ready
- **Never judges** â€” No frustration, no impatience, infinite patience
- **Creates for you** â€” Generates mind maps, flashcards, quizzes on the fly
- **Remembers you** â€” Knows your progress, your struggles, your victories

---

## Built for Every Mind

ConvergioEdu isn't just "accessible." It's designed from the ground up for neurodiversity.

| Condition | How We Adapt |
|-----------|--------------|
| **Dyslexia** | OpenDyslexic font, extra spacing, text-to-speech, visual learning |
| **Dyscalculia** | Step-by-step breakdowns, visual number representations |
| **ADHD** | Reduced distractions, focus mode, movement breaks, gamification |
| **Autism** | Predictable layouts, sensory-friendly colors, clear structure |
| **Cerebral Palsy** | Large touch targets, full keyboard navigation, voice control |

WCAG 2.1 AA compliant. Because accessibility isn't a featureâ€”it's the foundation.

---

## Getting Started

New users are guided through a friendly **onboarding experience**:

1. **Welcome** â€” Meet the platform and its mission
2. **Core Principles** â€” Learn about our educational philosophy
3. **Meet the Maestri** â€” Browse your AI tutors with carousel preview
4. **Ready to Learn** â€” Jump into your first session

The onboarding only appears once and can be reset from Settings.

---

## Features in Detail

### Voice Sessions

Talk to your Maestro like you would talk to a real teacher. Ask questions, discuss concepts, explore ideasâ€”all through natural voice conversation.

- **Unified voice+chat** â€” side-by-side layout lets you type while talking
- **Real-time voice interaction** powered by Azure OpenAI Realtime API
- **Automatic transcription** â€” voice messages appear in chat with ðŸ”Š indicator
- **Voice-to-voice** responses with natural intonation
- **Interrupt anytime** â€” the Maestro listens and adapts
- **Session evaluation** â€” automatic feedback at session end with grades and XP
- **Parent diary integration** â€” session insights saved for parents (GDPR compliant)
- **Device selection** â€” choose your preferred microphone and speaker
- **Visual waveform** â€” see your voice levels in real-time

### Mind Maps

Visual learners rejoice. Every concept can become a mind map.

- **Auto-generated** from conversations with your Maestro
- **Interactive** â€” expand, collapse, zoom, pan
- **Voice commands** â€” "aggiungi un nodo", "espandi questo concetto", "collega A a B"
- **Multi-format export** â€” PNG, SVG, Markdown, FreeMind, XMind, JSON
- **Import support** â€” load existing mind maps from other tools
- **Powered by MarkMap** for beautiful, responsive visualizations
- **Hierarchical structure** that mirrors how concepts connect

### FSRS Flashcards

Spaced repetition done right, backed by cognitive science.

- **FSRS algorithm** (Free Spaced Repetition Scheduler) â€” more effective than Anki's SM-2
- **Optimal review timing** based on your memory patterns
- **Difficulty tracking** per card
- **Auto-generated** from your learning sessions
- **Progress analytics** showing retention rates

### Quizzes

Test your knowledge with adaptive assessments.

- **Multiple choice** and **open-ended** questions
- **Instant feedback** with explanations
- **Difficulty adapts** to your performance
- **Generated from** your flashcards and conversations
- **Mastery gates** â€” must pass to unlock new content

### Homework Help

Get help with your homework using AI-powered analysis.

- **Photo capture** â€” take a picture of your homework with the webcam
- **Countdown timer** â€” 0, 3, 5, or 10 second delay for positioning
- **AI analysis** â€” Maestro analyzes your work and provides feedback
- **Step-by-step guidance** â€” get help without getting the answer
- **Works offline** â€” camera capture works without internet

### Gamification

Learning should be rewarding.

- **XP system** â€” earn points for every activity
- **Levels** â€” watch yourself grow
- **Badges** â€” achievements for milestones
- **Streaks** â€” daily consistency rewards
- **Leaderboards** (optional) â€” friendly competition

### Pomodoro Timer

ADHD-friendly focus sessions with built-in breaks.

- **Configurable intervals** â€” 25/5/15 min default (fully customizable)
- **Visual countdown** â€” see time remaining at a glance
- **Break reminders** â€” notifications when it's time to rest
- **XP rewards** â€” earn points for completed focus sessions
- **Header widget** â€” always visible, never intrusive

### Progress Tracking

Know exactly where you stand.

- **Subject mastery** â€” percentage complete per topic
- **Session history** â€” what you learned and when
- **Time tracking** â€” minutes spent learning
- **Weak areas** â€” automatically identified for review
- **Parent dashboard** â€” GDPR-compliant insights for parents (requires dual consent)

---

## Configuration

### Settings Overview

The Settings page provides comprehensive configuration:

| Tab | Description |
|-----|-------------|
| **Profile** | Student name, age, learning style preferences |
| **Accessibility** | Dyslexia font, ADHD mode, motion reduction, high contrast |
| **Appearance** | Theme (light/dark/system), color schemes |
| **AI Provider** | Azure OpenAI or Ollama configuration |
| **Audio/Video** | Preferred microphone, speaker, and camera selection |
| **Notifications** | Study reminders and progress alerts |
| **Privacy** | Data export (GDPR), delete account |
| **Diagnostics** | System checks, API connectivity, troubleshooting |

### AI Providers

ConvergioEdu supports multiple AI providers. Choose based on your needs:

| Provider | Voice Support | Best For | Cost |
|----------|--------------|----------|------|
| **Azure OpenAI** | Full voice | Production, schools | Pay-per-use |
| **Ollama** | Text only | Local dev, privacy | Free |
| **Showcase Mode** | Simulated | Demo, no API needed | Free |

### Try Without an API Key (Showcase Mode)

Want to explore the app without setting up Azure or Ollama? Use **Showcase Mode**:

1. Go to **Settings â†’ AI Provider**
2. Click **"ModalitÃ  Showcase"** button
3. Navigate to `/showcase` to explore all features with pre-recorded responses

Showcase includes:
- All 17 Maestri with simulated conversations
- Mind maps, flashcards, quizzes demo
- Voice UI preview (without actual voice)
- Full accessibility features

Perfect for demos, presentations, or trying the app before committing to an API.

### Option 1: Azure OpenAI (Recommended)

Full functionality including voice sessions.

```bash
# .env.local

# Chat (text conversations)
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_API_KEY=your-api-key
AZURE_OPENAI_CHAT_DEPLOYMENT=gpt-4o
AZURE_OPENAI_API_VERSION=2024-08-01-preview

# Voice (real-time conversations) â€” REQUIRED for voice features
AZURE_OPENAI_REALTIME_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_REALTIME_API_KEY=your-api-key
AZURE_OPENAI_REALTIME_DEPLOYMENT=gpt-4o-realtime-preview
AZURE_OPENAI_REALTIME_API_VERSION=2024-10-01-preview
```

**Note:** Voice features require the `gpt-4o-realtime-preview` model, currently available in select Azure regions.

### Option 2: Ollama (100% Local)

Free, private, runs entirely on your machine. No voice support.

```bash
# Install Ollama
brew install ollama

# Start the server
ollama serve

# Pull a model (in another terminal)
ollama pull llama3.2        # Fast, good for education (~2GB)
ollama pull mistral         # Alternative (~4GB)
ollama pull llama3.1:70b    # Best quality (needs 64GB+ RAM)
```

```bash
# .env.local
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2
```

The app auto-detects Ollama when Azure is not configured.

### Azure Cost Management (Optional)

Track your Azure spending in the Settings page.

```bash
# .env.local (optional)
AZURE_TENANT_ID=your-tenant-id
AZURE_CLIENT_ID=your-service-principal-client-id
AZURE_CLIENT_SECRET=your-service-principal-secret
AZURE_SUBSCRIPTION_ID=your-subscription-id
```

Requires a Service Principal with "Cost Management Reader" role.

---

## Quick Start

### Prerequisites

- Node.js 18+
- npm or yarn
- Azure OpenAI account (for voice) OR Ollama (for local text-only)

### Installation

```bash
# Clone the repository
git clone https://github.com/Roberdan/ConvergioEdu.git
cd ConvergioEdu

# Install dependencies
npm install

# Configure environment
cp .env.example .env.local
# Edit .env.local with your API keys

# Initialize database
npx prisma generate
npx prisma db push

# Start development server
npm run dev
```

Open http://localhost:3000 and start learning.

### Available Scripts

```bash
npm run dev        # Start development server
npm run build      # Build for production
npm run start      # Start production server
npm run lint       # Run ESLint
npm run typecheck  # Run TypeScript compiler
npm run test       # Run Playwright E2E tests
```

---

## The Convergio Ecosystem

ConvergioEdu is part of a larger vision:

| Project | Description |
|---------|-------------|
| [**convergio-cli**](https://github.com/Roberdan/convergio-cli) | CLI with 50+ specialized AI agents |
| [**MyConvergio**](https://github.com/Roberdan/MyConvergio) | Native macOS/iOS app |
| [**Convergio**](https://github.com/Roberdan/Convergio) | Core framework |

---

## Tech Stack

| Layer | Technology |
|-------|------------|
| Framework | Next.js 16 (App Router) |
| Language | TypeScript 5 (strict mode) |
| Styling | Tailwind CSS 4 |
| State | Zustand |
| Voice | Azure OpenAI Realtime API |
| Mind Maps | MarkMap |
| Diagrams | Mermaid.js (flowchart, sequence, class, state, ER) |
| Math | KaTeX |
| Database | Prisma + SQLite/PostgreSQL |
| Testing | Playwright E2E |

### Developer Documentation

For developers working on voice features, see:
- [`docs/AZURE_REALTIME_API.md`](docs/AZURE_REALTIME_API.md) â€” Comprehensive guide to Azure Realtime API integration, including common bugs and solutions
- [`CLAUDE.md`](CLAUDE.md) â€” Architecture overview and development commands

---

## Contributing

We welcome contributions! See [CONTRIBUTING.md](CONTRIBUTING.md).

This project was born for inclusion. Every contribution must be:
- Keyboard accessible
- Screen reader compatible
- Color-blind friendly
- Available to everyone

---

## Contact

- **Email**: roberdan@fightthestroke.org
- **Organization**: [FightTheStroke](https://fightthestroke.org)
- **TED Talk**: [In our baby's illness, a life lesson](https://www.ted.com/talks/roberto_d_angelo_and_francesca_fedeli_in_our_baby_s_illness_a_life_lesson)

---

## License

MIT â€” See [LICENSE](LICENSE)

---

<p align="center">
  <strong>Every child can learn. We just need to teach them differently.</strong>
</p>

<p align="center">
  <a href="https://fightthestroke.org">
    <img src="https://img.shields.io/badge/A%20FightTheStroke%20Project-red?style=for-the-badge" alt="FightTheStroke">
  </a>
</p>
