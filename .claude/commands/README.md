# MirrorBuddy Claude Code Commands

Slash commands for systematic task execution with Task Master integration.

## üìã Task Execution Commands

### `/execute-all-tasks` - Execute All Pending Tasks

**COMANDO PRINCIPALE** per eseguire tutti i task pendenti fino al completamento.

```bash
/execute-all-tasks
```

**Cosa fa:**
- Ottiene il prossimo task disponibile da Task Master
- Analizza la complessit√† e ESPANDE il task in subtask (con --research)
- Esegue ogni subtask uno per uno
- **BUILD E TEST OBBLIGATORI** (no "dovrebbe funzionare", TEST REALE!)
- Aggiorna SEMPRE la documentazione (CHANGELOG.md, ADRs, commenti)
- Fa un commit Git dopo ogni task completato
- Ripete per il prossimo task fino al completamento

**Garantisce:**
- ‚úÖ Task capiti ed espansi prima dell'esecuzione
- ‚úÖ Build e test prima di ogni commit
- ‚úÖ Documentazione sempre aggiornata
- ‚úÖ Nessun "non fa un cazzo" - tutto testato!
- ‚úÖ Commits granulari dopo ogni task

**Durata stimata:** Ore/giorni (dipende da quanti task pendenti)

---

### `/execute-task <id>` - Execute Single Task

Esegue un singolo task specifico con lo stesso rigore di `/execute-all-tasks`.

```bash
/execute-task 99   # Execute Task 99 (Fix Audio Pipeline)
/execute-task 100  # Execute Task 100 (Voice Persistence)
/execute-task 104  # Execute Task 104 (ContextBanner)
```

**Workflow:**
1. Ottiene dettagli task
2. Analizza complessit√† e espande con --research
3. Esegue ogni subtask
4. Build e test obbligatori
5. Aggiorna documentazione
6. Commit Git
7. Marca task come done
8. Mostra prossimo task disponibile

**Usa questo quando:**
- Vuoi lavorare su un task specifico invece che sequenziale
- Vuoi testare il workflow su un solo task prima di `/execute-all-tasks`
- Hai task HIGH priority da completare prima

---

### `/review-task <id>` - Review Task Completion

Verifica che un task marcato come "done" funzioni davvero.

```bash
/review-task 91   # Review Task 91 (Extended Voice Recording)
/review-task 99   # Review Task 99 (Audio Pipeline)
```

**Cosa verifica:**
- ‚úÖ Codice compilabile (xcodebuild)
- ‚úÖ Test passano tutti
- ‚úÖ Swift 6 concurrency compliance
- ‚úÖ Nessun force unwrap pericoloso
- ‚úÖ Errori gestiti correttamente
- ‚úÖ Testo in italiano
- ‚úÖ Documentazione aggiornata
- ‚úÖ Commit ben formattato
- ‚úÖ **Feature FUNZIONA nel simulator** (test manuale)

**Esiti possibili:**
- ‚úÖ **PASS** - Task completato correttamente, marca done
- ‚ö†Ô∏è **ISSUES FOUND** - Problemi trovati, marca in-progress, lista fix necessari
- üö´ **BLOCKED** - Dipendenze mancanti, marca blocked

**Usa questo quando:**
- Hai dubbi che un task funzioni davvero
- Vuoi QA rigoroso prima di chiudere un task
- Hai fatto modifiche manuali fuori dal workflow

---

### üî¥ `/tmQA` - Comprehensive Quality Assurance

**BRUTALLY HONEST** quality assurance system that verifies ALL completed tasks meet the highest standards.

```bash
/tmQA
```

**üéØ Purpose:**

Systematically verify that all tasks marked as "done":
- ‚úÖ Are **actually complete** and **working**
- üìö Have **complete documentation**
- üßπ Don't introduce **technical debt**
- üéØ Align with **repository mission and objectives**
- üìÅ Fit properly in **repository organization**

**üî¥ What Makes tmQA Different:**

**NO SUGARCOATING. NO EXCUSES. ONLY TRUTH.**

- If it doesn't work ‚Üí **FAIL üî¥** (not "mostly works")
- Missing documentation ‚Üí **INCOMPLETE** (not "will add later")
- Technical debt found ‚Üí **HIGH SEVERITY** (not "could improve")
- Fake implementations ‚Üí **EXPOSED** (tasks marked done with no code)

**What tmQA Checks:**

1. **üßπ Repository Cleanliness** (NEW!)
   - Git status (untracked files, uncommitted changes)
   - Junk files (.DS_Store, temp files, logs)
   - Build artifacts in repo
   - .gitignore completeness
   - Documentation freshness
   - Orphaned files

2. **üéØ Mission Alignment**
   - Task aligns with project goals
   - In PRD scope
   - No scope creep
   - Fits repository organization

3. **üßπ Technical Debt**
   - Code quality (no TODO/FIXME/HACK)
   - Architecture patterns (SOLID, DDD, Clean)
   - Performance (no N+1, proper indexing)
   - Security (no secrets, proper validation)
   - Maintainability (readable, documented)
   - Module coupling and cohesion
   - Circular dependencies

4. **üìö Documentation**
   - Code documentation (docstrings, comments)
   - Project docs (README, ADRs, CHANGELOG)
   - Task documentation (subtask notes)

5. **‚úÖ Implementation**
   - All subtasks complete
   - Build succeeds
   - Tests pass (>80% coverage)
   - Feature works end-to-end
   - Edge cases handled

6. **üìÅ Repository Organization**
   - Complete feature catalog
   - Feature dependency graph
   - Module interconnections
   - Architecture patterns
   - Completeness map

**üöÄ Parallel Execution:**

tmQA uses **maximum parallelism** for speed:
- Launches **ALL task-checker agents simultaneously**
- 2 special agents for global analysis (Cleanliness + Architecture)
- Example: 4 tasks = 6 agents running in parallel
- **4x faster** than serial execution (10 min vs 40 min)

**Output:**

Generates **`Docs/TMQAReport.md`** with:
- Executive summary (pass rate, critical issues)
- **Repository cleanliness report** (NEW!)
- Repository organization analysis
- Feature catalog with dependencies
- Per-task detailed results
- Technical debt assessment
- Critical issues requiring immediate action
- Recommendations and metrics

**Report Language (Brutally Honest):**

‚ùå **NEVER:**
- "Could be improved"
- "Should work fine"
- "Mostly complete"

‚úÖ **ALWAYS:**
- "Code quality: **FAIL** - Duplicated logic in 5 places"
- "Documentation: **INCOMPLETE** - No ADR, no README update"
- "Implementation: **BROKEN** - Feature crashes on launch"
- "Technical debt: **HIGH** - 47 TODO comments, no error handling"

**When to Use:**

- **Weekly** - Before sprint planning
- **Pre-release** - Before major versions
- **After major features** - Verify quality
- **When quality concerns** - Find all issues at once

**Example Workflow:**

```bash
# Run comprehensive QA on all done tasks
/tmQA

# Review the generated report
cat Docs/TMQAReport.md

# Fix critical issues found
/execute-task 99  # Re-implement properly

# Re-run QA after fixes
/tmQA
```

**vs `/review-task`:**

| Feature | `/review-task <id>` | `/tmQA` |
|---------|---------------------|---------|
| Scope | Single task | ALL done tasks |
| Depth | Implementation | Implementation + Architecture |
| Report | Terminal output | `Docs/TMQAReport.md` |
| Analysis | Task-specific | Repository-wide |
| Tech Debt | Basic | Comprehensive |
| Features | No | Complete catalog |
| Use Case | Quick check | Deep audit |

**üî¥ Remember:**

> "Fatto bene √® meglio di fatto veloce" - Done well is better than done fast!

The goal is **improvement through honesty**, not comfort through lies.

---

## üéØ Workflow Raccomandato

### Per Task Sequenziali (Approccio Standard)

```bash
# 1. Esegui tutti i task pendenti
/execute-all-tasks
```

Questo eseguir√† task dopo task fino al completamento totale.

### Per Task Specifici (Approccio Mirato)

```bash
# 1. Vedi quali task sono disponibili
task-master list

# 2. Esegui task HIGH priority
/execute-task 99    # Voice pipeline fix
/execute-task 100   # Voice persistence
/execute-task 101   # Context integration

# 3. Continua con altri task
/execute-task 104   # ContextBanner
```

### Per Quality Assurance

```bash
# 1. Esegui task
/execute-task 99

# 2. Review rigoroso
/review-task 99

# 3. Se PASS, continua al prossimo
/execute-task 100
```

---

## üö´ Anti-Patterns da Evitare

### ‚ùå NON FARE:
```bash
# ‚ùå Non saltare il testing
# ‚ùå Non dire "dovrebbe funzionare" senza provare
# ‚ùå Non skippare la documentazione
# ‚ùå Non fare commit senza build/test
# ‚ùå Non marcare done se ci sono errori
```

### ‚úÖ FARE:
```bash
# ‚úÖ Usa i comandi che forzano qualit√†
/execute-task 99        # Build, test, docs automatici

# ‚úÖ Testa SEMPRE nel simulator
# ‚úÖ Verifica che funzioni con dati reali
# ‚úÖ Testa edge cases (nil, empty, errors)
# ‚úÖ Aggiorna CHANGELOG.md sempre
```

---

## üìä Task Master Status

Vedi status corrente:
```bash
task-master list                    # Tutti i task
task-master list --status=pending   # Solo pending
task-master list --status=in-progress  # Solo in corso
task-master next                    # Prossimo disponibile
```

Gestione manuale (se necessario):
```bash
task-master set-status --id=99 --status=done
task-master update-task --id=99 --prompt="notes..."
task-master expand --id=99 --research
```

Ma **preferisci i comandi slash** `/execute-task` e `/execute-all-tasks` che fanno tutto automaticamente.

---

## üéì Quality Standards Enforced

Ogni task completato DEVE:

**Code Quality:**
- [ ] Swift 6 strict concurrency (@MainActor, nonisolated)
- [ ] SwiftUI + SwiftData best practices
- [ ] Error handling con messaggi user-friendly in italiano
- [ ] No force unwrap senza commenti giustificativi
- [ ] Nomi descrittivi per variabili/metodi

**Testing:**
- [ ] Build succeeds (xcodebuild)
- [ ] All tests pass (se applicabile)
- [ ] Feature testata manualmente in simulator
- [ ] Edge cases testati (nil, empty, errors)
- [ ] VoiceOver funzionante (se UI)

**Documentation:**
- [ ] CHANGELOG.md updated
- [ ] ADR created (se decisione architettuale)
- [ ] API docs (se nuovo servizio/metodo pubblico)
- [ ] Code comments (spiega "why" non "what")

**Git:**
- [ ] Commit message descrittivo con task ID
- [ ] Lista cambiamenti nel commit
- [ ] Testing approach documentato
- [ ] Co-Authored-By: Claude line

---

## üõ†Ô∏è Troubleshooting

### Build Fails
```bash
# I comandi si fermano automaticamente se build fallisce
# Fix errori, poi ri-esegui il comando
/execute-task 99  # Riprende da dove si √® fermato
```

### Tests Fail
```bash
# I comandi si fermano se i test falliscono
# Fix test, poi ri-esegui
/execute-task 99
```

### "Non fa un cazzo"
```bash
# Se pensi che qualcosa non funzioni:
/review-task 99   # Review rigoroso

# Se trova problemi, fixali:
/execute-task 99  # Re-implementa correttamente
```

### Task Bloccato da Dipendenze
```bash
# I comandi saltano automaticamente task bloccati
# Completa le dipendenze prima:
/execute-task 31  # Dipendenza
/execute-task 99  # Ora pu√≤ partire
```

---

## üìö Existing Commands

Altri comandi gi√† disponibili:

- `/work-session` - Workflow pi√π manuale con checkpoints
- `/work-next` - Simile ma senza espansione automatica
- `/orchestrate` - Per parallel agent execution
- Altri agent-specific commands in questa directory

**Raccomandazione:** Usa `/execute-all-tasks` o `/execute-task` per nuovo lavoro perch√© includono tutte le best practices.

---

## ‚úÖ Success Criteria

Un task √® veramente "done" quando:

1. ‚úÖ Build succeeds senza warning
2. ‚úÖ Tutti i test passano
3. ‚úÖ Feature FUNZIONA nel simulator (testata manualmente)
4. ‚úÖ Edge cases gestiti correttamente
5. ‚úÖ Errori mostrano messaggi user-friendly in italiano
6. ‚úÖ Documentazione aggiornata (CHANGELOG.md minimo)
7. ‚úÖ Commit fatto con messaggio descrittivo
8. ‚úÖ Task marcato done in Task Master

**"Non fa un cazzo" √® INACCETTABILE.**

Usa questi comandi per garantire qualit√† dal primo giorno! üöÄ
